@require 'mixins.styl'
@require 'controls.styl'
@require 'colors.styl'
@require 'parallax.styl'
@require 'registration.styl'
@require 'scrollbar.styl'

html, body
    font-family Lato, 'Lucida Grande', sans-serif
    font-weight 400

    -moz-box-sizing border-box
    box-sizing border-box
    
    width 100%
    height 100%
    
    //overflow hidden
body
	overflow-y hidden

#viewport
	width 100%
	height 100%
	overflow-x hidden
	overflow-y hidden
	
	background linear-gradient(to top, #0B1929, #172E4B)
	
	transition background 1s ease-in-out
	
	position relative
	

.parallax-group > div,
.parallax-group > section
	position absolute
	overflow-y visible
	
	top 100%
	height 100%
	width 100%
	
	// margin-bottom 100% // extra oscillation space

$logo_width = 200px

#intake-logo
	position fixed
	
	background-image url("/images/loading.gif")
	background-repeat no-repeat
	background-size contain

	width $logo_width
	height @width
	
	center()

	transition height 2s ease-out, width 2s ease-out

#intake-logo.shrink
	width ($logo_width * 0.75)
	height ($logo_width * 0.75)

#intake-logo::before,
#intake-logo::after
	content " "
	display block
	width 0px
	height 1px
	
	background-color $LOGO_BLUE
	border none
	outline none
	position absolute
	top 50%
	
	animation-iteration-count 1
	animation-timing-function linear
	animation-delay 1.45s
	animation-duration 1.5s

$logo_rule_start_pos = 85%

#intake-logo::after
	animation-name motion-rule-right
	left $logo_rule_start_pos
	
#intake-logo::before
	animation-name motion-rule-left
	right $logo_rule_start_pos

@keyframes motion-rule-right {
	0% {
		width 0%
		left $logo_rule_start_pos
	}
	50% {
		width 200%
		left $logo_rule_start_pos
	}
	80% {
		width 300%
	}
	100% {
		width 300%
		left 800%
	}
}	

@keyframes motion-rule-left {
	0% {
		width 0%
		right $logo_rule_start_pos
	}
	50% {
		width 200%
		right $logo_rule_start_pos
	}
	80% {
		width 300%
	}
	100% {
		width 300%
		right 800%
	}
}


section.gateway
	/* Fix a bug with cover in Android Chrome
	   where it appearently doesn't work on html/body
	   but works in other situations. */
	
	height 100vh
	margin 0
	overflow-x hidden
	overflow-y auto
	padding 0
	width 100%

	display flex
	color white
	align-items center
	justify-content center
	flex-direction column

div.pitch
	position relative
	text-transform uppercase
	
	font-weight 300
	font-size 30px
	text-transform uppercase
	letter-spacing 2px
	word-spacing 5px

.gateway .explorebtn
	width ($primary_width / $PHI)
	center-horizontal()
	bottom 10%

.gateway #continuebtn
	margin-top 40px
	
/* parallax layers */

.parallax
	position relative
	z-index 1

#intake-logo
	position absolute
	z-index 60
	parallax(-700px)

.neuron-layer
	pointer-events none

.neuron-layer .neuron
	position absolute
	background-size contain
	background-repeat no-repeat
	
	width 600px
	height 100%
	

.neuron-layer .left
	1 // no-op
	
.neuron-layer .right 
	1 // no-op

.neuron-layer.intake-front
	z-index 50
	parallax(150px)
	
.neuron-layer.intake-front .left
	parallax-neuron(
		$url: '/images/background/front-left.png', 
		$side: 'left', 
		$dx: 0.5, 
		$dy: 275px
	)
	
	
.neuron-layer.intake-front .right
	parallax-neuron(
		$url: '/images/background/front-right.png', 
		$side: 'right', 
		$dx: 1, 
		$dy: 200px
	)
	
.neuron-layer.intake-middle
	z-index 40
	parallax(100px)
	
.neuron-layer.intake-middle .left
	parallax-neuron(
		$width: 1547px,
		$url: '/images/background/middle-left-blur.png', 
		$side: 'left', 
		$dx: 1, 
		$dy: 200px
	)
	
.neuron-layer.intake-middle .right
	parallax-neuron(
		$url: '/images/background/middle-right-blur.png', 
		$side: 'right', 
		$dx: 1, 
		$dy: 200px
	)
	
.neuron-layer.intake-rear
	z-index 30
	parallax(50px)
	
.neuron-layer.intake-rear .left
	parallax-neuron(
		$url: '/images/background/rear-left-blur.png', 
		$side: 'left', 
		$dx: 1, 
		$dy: 200px
	)
	
.neuron-layer.intake-rear .right
	parallax-neuron(
		$url: '/images/background/middle-right-blur.png', 
		$side: 'right', 
		$dx: 1, 
		$dy: 200px
	)
	
.neuron-layer.intake-carpet
	z-index 20
	parallax(25px)
	

.neuron-layer.intake-carpet .neuron
	$url = '/images/background/neural-carpet-blur.png'
	parallax-neuron(
		$url: $url,
		$side: 'center', 
		$dx: 1, 
		$dy: 100px
	)
	
.gateway
	z-index 60
	parallax(1px)


// .explore 
// 	height 100%
// 	width 100%
